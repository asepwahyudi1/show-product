<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>show-product</title>
    <link rel="stylesheet" href="fontawesome/css/all.css">
    <link rel="stylesheet" href="index.css">

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js";
      import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.0.2/firebase-firestore.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.0.2/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDDL0HQSMj0lhPUmuvwtHs3kXasSfVfBe0",
        authDomain: "show-product.firebaseapp.com",
        projectId: "show-product",
        storageBucket: "show-product.appspot.com",
        messagingSenderId: "1097328728197",
        appId: "1:1097328728197:web:e47bb61c78597e986f31ec",
        measurementId: "G-27V5PMSV0R",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      const db = getFirestore(app);
      let bintang = '<h6 class="fas fa-star"></h6>';
      
      const querySnapshot = await getDocs(collection(db, "product"));
      querySnapshot.forEach((doc) => {
        let product = doc.data();
        document.getElementById('namaProduct').innerHTML = product.nama;
        document.getElementById('deskripsi').innerHTML = product.deskripsi;
        document.getElementById('kirim').innerHTML = product.pengirim;
        document.getElementById('harga').innerHTML = product.harga;
        // looping bintang
        for (let i = 0; i < product.rating - 1; i++) {
        bintang += '<h6 class="fas fa-star"></h6>';
        }
        document.getElementById('rating').innerHTML = bintang;
        document.getElementById('gambarproduk1').src = product.gambar[0];
        document.getElementById('gambarproduk2').src = product.gambar[1];
        document.getElementById('gambarproduk3').src = product.gambar[2];
        document.getElementById('gambarproduk4').src = product.gambar[3];

        document.getElementById('indicator-gambarproduk1').src = product.gambar[0];
document.getElementById('indicator-gambarproduk2').src = product.gambar[1];
document.getElementById('indicator-gambarproduk3').src = product.gambar[2];
document.getElementById('indicator-gambarproduk4').src = product.gambar[3];
      });
      
       const querytoko = await getDocs(collection(db, "toko"));
      querytoko.forEach((doc) => {
        let toko = doc.data();
        document.getElementById('logo').src = toko.logo;
        document.getElementById('namatoko').innerHTML = toko.nama;
      });
    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  </head>
  <script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
  crossorigin="anonymous"
></script>
</head>
<header>
    <p><img src="img/logo1.png" class="logosaja"><strong class="namalogo1">E-Commerce</strong>
  <a href="login.html" class="login"><button class="buttonlogin"><b class="fas fa-sign-in-alt"></b></button></a></p>
</div>
  </header>
<body style="background-image: url(img/bg3.png); background-size: 100%; background-color: whitesmoke;">
	<section class="wrapper">
    		<footer class="div-1">
          <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img class="gambarproduk" id="gambarproduk1" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img class="gambarproduk" id="gambarproduk2" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img class="gambarproduk" id="gambarproduk3" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img class="gambarproduk" id="gambarproduk4" class="d-block w-100" alt="...">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
            <div>
              <div class="carousel-indicators" style="margin-top: 100%;">
              <button style="width: 90%;" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"><img class="img-indicator" id="indicator-gambarproduk1"></button>
              <button style="width: 90%;" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"><img class="img-indicator" id="indicator-gambarproduk2"></button>
              <button style="width: 90%;" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"><img class="img-indicator" id="indicator-gambarproduk3"></button>
              <button style="width: 90%;" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"><img class="img-indicator" id="indicator-gambarproduk4"></button>
          </div>
          </div>
            <!-- <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel"> -->
                <!-- <div class="carousel-inner"> -->
                  <!-- <div class="carousel-item active"> -->
                    <!-- <img class="gambarproduk" id="gambarproduk1" class="d-block w-100" alt="..."> -->
                  <!-- </div> -->
                  <!-- <div class="carousel-item"> -->
                    <!-- <img class="gambarproduk" id="gambarproduk2" class="d-block w-100" alt="..."> -->
                  <!-- </div> -->
                  <!-- <div class="carousel-item"> -->
                    <!-- <img class="gambarproduk" id="gambarproduk3" class="d-block w-100" alt="..."> -->
                  <!-- </div> -->
                  <!-- <div class="carousel-item"> -->
                    <!-- <img class="gambarproduk" id="gambarproduk4" class="d-block w-100" alt="..."> -->
                  <!-- </div> -->
                <!-- </div> -->
                <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev"> -->
                  <!-- <span class="carousel-control-prev-icon" aria-hidden="true"></span> -->
                  <!-- <span class="visually-hidden">Previous</span> -->
                <!-- </button> -->
                <!-- <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next"> -->
                  <!-- <span class="carousel-control-next-icon" aria-hidden="true"></span> -->
                  <!-- <span class="visually-hidden">Next</span> -->
                <!-- </button> -->
              <!-- </div> -->
            <!-- </div> -->
        </footer>
		<footer class="div-2">
            <h3 class="NAMAPRODUK" id="namaProduct"></h3>
            <div class="bintang" id="rating">
              </div>
            <div>
                  <div class="backgroundhargabarang">
                    <h3 class="HARGABARANG" id="harga"></h3>
                </div>
                <div>
                    <h6 class="tempatpegiriman">Pengiriman: <span id="kirim"></span></h6>
                </div>
                <div>
                    <button class="tombolbeli">Beli Sekarang</button>
                </div>
            </div>
        </footer>
	</section>
  <div class="logotoko">
    <p class="gambarlogotoko"><img class="gambar" id="logo"/><strong class="namatoko" id="namatoko"></strong></p>
  </div>
  <div class="fonakhir">
    <h1 class="aligndeskripsi"><div class="bgaligndeskripsi">Deskripsi</div></h1>
    <div class="descripsi">
      <p id="deskripsi" class="deskripsi"><div></div></p>
      </div>
    </div>
</div>

</body>
</html>